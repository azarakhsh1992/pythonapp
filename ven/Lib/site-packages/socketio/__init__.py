import sys

from .base_manager import BaseManager
from .client import Client
from .kafka_manager import KafkaManager
from .kombu_manager import KombuManager
from .middleware import WSGIApp, Middleware
from .namespace import Namespace, ClientNamespace
from .pubsub_manager import PubSubManager
from .redis_manager import RedisManager
from .server import Server
from .tornado import get_tornado_handler
from .zmq_manager import ZmqManager

if sys.version_info >= (3, 5):  # pragma: no cover
    from .asyncio_client import AsyncClient
    from .asyncio_server import AsyncServer
    from .asyncio_manager import AsyncManager
    from .asyncio_namespace import AsyncNamespace, AsyncClientNamespace
    from .asyncio_redis_manager import AsyncRedisManager
    from .asyncio_aiopika_manager import AsyncAioPikaManager
    from .asgi import ASGIApp
else:  # pragma: no cover
    AsyncClient = None
    AsyncServer = None
    AsyncManager = None
    AsyncNamespace = None
    AsyncRedisManager = None
    AsyncAioPikaManager = None

__all__ = ['Client', 'Server', 'BaseManager', 'PubSubManager',
           'KombuManager', 'RedisManager', 'ZmqManager', 'KafkaManager',
           'Namespace', 'ClientNamespace', 'WSGIApp', 'Middleware']
if AsyncServer is not None:  # pragma: no cover
    __all__ += ['AsyncClient', 'AsyncServer', 'AsyncNamespace',
                'AsyncClientNamespace', 'AsyncManager', 'AsyncRedisManager',
                'ASGIApp', 'get_tornado_handler', 'AsyncAioPikaManager']
